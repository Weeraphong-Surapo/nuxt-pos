{"version":3,"file":"create-BuDRulHj.js","sources":["../../../../pages/customer/create.vue"],"sourcesContent":["<template>\n  <div class=\"card shadow border-0 mb-7\">\n    <!-- <div class=\"card-header\">\n        <h5 class=\"mb-0\">Product Create</h5>\n      </div> -->\n    <Loader :loading=\"loading\" />\n    <div class=\"card-body\">\n      <form @submit.prevent=\"createCustomer()\">\n        <div class=\"mb-3\">\n          <label for=\"\" class=\"form-label\">ชื่อลูกค้า</label>\n          <input\n            type=\"text\"\n            class=\"form-control form-control-sm\"\n            v-model=\"form.full_name\"\n          />\n        </div>\n        <div class=\"row\">\n          <div class=\"mb-3\">\n            <label for=\"\" class=\"form-label\">เบอร์โทร</label>\n            <input\n              type=\"text\"\n              class=\"form-control form-control-sm\"\n              v-model=\"form.phone\"\n            />\n          </div>\n          <div class=\"mb-3\">\n            <label for=\"\" class=\"form-label\">ไลน์</label>\n            <input type=\"text\" class=\"form-control form-control-sm\" v-model=\"form.line\" />\n          </div>\n        </div>\n        <div class=\"mb-3\">\n          <label for=\"\" class=\"form-label\">ที่อยู่</label>\n          <textarea\n            rows=\"3\"\n            cols=\"10\"\n            class=\"form-control form-control-sm\"\n            v-model=\"form.address\"\n          ></textarea>\n        </div>\n        <button type=\"submit\" class=\"btn btn-primary btn-sm\" :disabled=\"loading\">\n          บันทึก\n        </button>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nconst router = useRoute();\ninterface Toast {\n  success: (message: string, options?: { position?: string; timeout?: number }) => void;\n}\nimport { useNuxtApp } from \"#app\";\nconst nuxtApp = useNuxtApp();\n\nconst showToast = (text: string) => {\n  const toastInstance = nuxtApp.$toast as Toast;\n  toastInstance.success(text, {\n    position: \"bottom-right\",\n    timeout: 2500,\n  });\n};\nconst form = ref({\n  full_name: \"\",\n  phone: \"\",\n  line: \"\",\n  address: \"\",\n});\n\nconst loading = ref(false);\n\n\n\nconst createCustomer = async () => {\n  loading.value = true;\n  try {\n    const resopnse = await fetch(\"/api/customer\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(form.value),\n    });\n    showToast(\"บันทึกสำเร็จ\");\n    navigateTo({ name: \"customer\" });\n  } catch (error) {\n    console.log(error);\n  } finally {\n    loading.value = false;\n  }\n};\n\n</script>\n\n<style scoped></style>\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAgDe,aAAS;AAcxB,UAAM,OAAO,IAAI;AAAA,MACf,WAAW;AAAA,MACX,OAAO;AAAA,MACP,MAAM;AAAA,MACN,SAAS;AAAA,IAAA,CACV;AAEK,UAAA,UAAU,IAAI,KAAK;;;;;;;;;;;;;;;"}