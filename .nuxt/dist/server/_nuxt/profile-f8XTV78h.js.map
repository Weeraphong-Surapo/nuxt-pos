{"version":3,"file":"profile-f8XTV78h.js","sources":["../../../../pages/user/profile.vue"],"sourcesContent":["<template>\n  <div class=\"card shadow border-0 mb-7\">\n    <!-- <div class=\"card-header\">\n      <h5 class=\"mb-0\">Product Create</h5>\n    </div> -->\n    <Loader :loading=\"loading\" />\n    <div class=\"card-body\">\n      <form @submit.prevent=\"updateUesr\">\n        <div class=\"row\">\n          <div class=\"col-md-6\">\n            <div class=\"mb-3\">\n              <label for=\"\" class=\"form-label\">ชื่อ</label>\n              <input\n                type=\"text\"\n                class=\"form-control form-control-sm\"\n                v-if=\"form\"\n                v-model=\"form.firstName\"\n              />\n            </div>\n          </div>\n          <div class=\"col-md-6\">\n            <div class=\"mb-3\">\n              <label for=\"\" class=\"form-label\">นามสกุล</label>\n              <input\n                type=\"text\"\n                class=\"form-control form-control-sm\"\n                v-if=\"form\"\n                v-model=\"form.lastName\"\n              />\n            </div>\n          </div>\n        </div>\n        <div class=\"mb-3\">\n          <label for=\"\" class=\"form-label\">อีเมล</label>\n          <input\n            type=\"email\"\n            class=\"form-control form-control-sm\"\n            v-if=\"form\"\n            v-model=\"form.email\"\n          />\n        </div>\n        <div class=\"row\">\n          <div class=\"col-md-6\">\n            <div class=\"mb-3\">\n              <label for=\"\" class=\"form-label\">ชื่อผู้ใช้งาน</label>\n              <input\n                type=\"text\"\n                class=\"form-control form-control-sm\"\n                disabled\n                v-if=\"form\"\n                v-model=\"form.username\"\n              />\n            </div>\n          </div>\n          <div class=\"col-md-6\">\n            <div class=\"mb-3\">\n              <label for=\"\" class=\"form-label\">สถานะ</label>\n              <input\n                type=\"text\"\n                class=\"form-control form-control-sm\"\n                disabled\n                v-if=\"form\"\n                :value=\"form.isAdmin ? 'ผู้ดูแลร้าน' : 'พนักงาน'\"\n              />\n            </div>\n          </div>\n        </div>\n        <div class=\"mb-3\">\n          <label for=\"\" class=\"form-label\">เงินเดือน</label>\n          <input\n            type=\"text\"\n            class=\"form-control form-control-sm\"\n            disabled\n            v-if=\"form\"\n            v-model=\"form.salary\"\n          />\n        </div>\n\n        <div class=\"mb-3\">\n          <label for=\"\" class=\"form-label\">สร้างเมื่อ</label>\n          <input\n            type=\"text\"\n            class=\"form-control form-control-sm\"\n            disabled\n            v-if=\"form\"\n            v-model=\"form.createdDate\"\n          />\n        </div>\n        <div class=\"mb-3\">\n          <label for=\"\" class=\"form-label\">อัพเดตเมื่อ</label>\n          <input\n            type=\"text\"\n            class=\"form-control form-control-sm\"\n            disabled\n            v-if=\"form\"\n            v-model=\"form.updatedDate\"\n          />\n        </div>\n\n        <button type=\"submit\" class=\"btn btn-success btn-sm\">บันทึก</button>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { useAuthStore } from \"../../stores/authStore\";\nimport type { User } from \"~/types/userType\";\ndefinePageMeta({\n  middleware: \"auth\",\n});\n\nconst authStore = useAuthStore();\nconst loading = ref<boolean>(true);\nconst form = ref<User | null>(null);\n\nconst updateUesr = async () => {\n  try {\n    const response = await fetch(\"/api/user/\" + form.value?.id,{\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(form.value),\n    });\n    console.log(response);\n    \n  } catch (error) {\n    console.log(error);\n  }\n};\nonMounted(async () => {\n  setTimeout(() => {\n    loading.value = false;\n  }, 100);\n  form.value = authStore.user;\n});\n</script>\n\n<style scoped></style>\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAgHkB,iBAAa;AACzB,UAAA,UAAU,IAAa,IAAI;AAC3B,UAAA,OAAO,IAAiB,IAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}