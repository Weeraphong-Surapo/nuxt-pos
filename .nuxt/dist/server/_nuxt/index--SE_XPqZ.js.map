{"version":3,"file":"index--SE_XPqZ.js","sources":["../../../../components/TableSale.vue","../../../../pages/sale/index.vue"],"sourcesContent":["<template>\n  <EasyDataTable\n    :headers=\"headers\"\n    :items=\"sales\"\n    theme-color=\"#5c60f5\"\n    :loading=\"loading\"\n  >\n    <template #item-action=\"{ id }\">\n      <div class=\"btn-group\">\n        <!-- <button class=\"btn btn-primary btn-sm\">ดู</button> -->\n        <NuxtLink\n          :to=\"{ name: 'sale-id', params: { id: id } }\"\n          class=\"btn btn-primary btn-sm\"\n          ><i class=\"bi bi-eye-fill\"></i></NuxtLink\n        >\n      </div>\n    </template>\n    <template #item-type_pay=\"{ type_pay }\">\n    <span>{{ type_pay ? 'โอนชำระ' : 'ชำระเงินสด' }}</span>\n    </template>\n  </EasyDataTable>\n</template>\n\n<script setup lang=\"ts\">\nimport type { Header } from \"vue3-easy-data-table\";\n\nconst headers: Header[] = [\n  { text: \"รหัส\", value: \"order_code\", sortable: true },\n  { text: \"ลูกค้า\", value: \"customers.full_name\" },\n  { text: \"รูปแบบ\", value: \"type_pay\", sortable: true },\n  { text: \"ภาษี\", value: \"vat\", sortable: true },\n  { text: \"ราคาขาย\", value: \"total_price\", sortable: true },\n  { text: \"ราคาขายรวมภาษี\", value: \"total_price_sum_vat\", sortable: true },\n  { text: \"วันที่\", value: \"createdDate\" },\n  // { text: \"LAST ATTENDED\", value: \"lastAttended\", width: 200 },\n  { text: \"จัดการ\", value: \"action\" },\n];\n\nconst props = defineProps([\"sales\", \"fetchSales\", \"loading\"]);\n\n</script>\n\n<style scoped></style>\n","<template>\n  <div class=\"card shadow border-0 mb-7\">\n    <div class=\"card-header\">\n      <h5 class=\"mb-0\">Sale</h5>\n    </div>\n    <div class=\"card-body\">\n      <TableSale :loading=\"loading\" :fetchSales=\"getAllSales\" :sales=\"listSales\" />\n    </div>\n  </div>\n</template>\n\n<script setup>\nconst loading = ref(false);\nconst listSales = ref([]);\n\nconst getAllSales = async () => {\n  loading.value = true;\n  try {\n    const response = await fetch(\"/api/sale\", {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    });\n    const data = await response.json();\n    listSales.value = data.data;\n    console.log(data.data);\n  } catch (error) {\n    console.log(error);\n  } finally {\n    loading.value = false;\n  }\n};\n\nonMounted(() => {\n  getAllSales();\n});\n</script>\n\n<style lang=\"scss\" scoped></style>\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AA0BA,UAAM,UAAoB;AAAA,MACxB,EAAE,MAAM,QAAQ,OAAO,cAAc,UAAU,KAAK;AAAA,MACpD,EAAE,MAAM,UAAU,OAAO,sBAAsB;AAAA,MAC/C,EAAE,MAAM,UAAU,OAAO,YAAY,UAAU,KAAK;AAAA,MACpD,EAAE,MAAM,QAAQ,OAAO,OAAO,UAAU,KAAK;AAAA,MAC7C,EAAE,MAAM,WAAW,OAAO,eAAe,UAAU,KAAK;AAAA,MACxD,EAAE,MAAM,kBAAkB,OAAO,uBAAuB,UAAU,KAAK;AAAA,MACvE,EAAE,MAAM,UAAU,OAAO,cAAc;AAAA;AAAA,MAEvC,EAAE,MAAM,UAAU,OAAO,SAAS;AAAA,IAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvBpC,UAAM,UAAU,IAAI,KAAK;AACzB,UAAM,YAAY,IAAI,CAAA,CAAE;AAExB,UAAM,cAAc,YAAY;AAC9B,cAAQ,QAAQ;AAChB,UAAI;AACF,cAAM,WAAW,MAAM,MAAM,aAAa;AAAA,UACxC,QAAQ;AAAA,UACR,SAAS;AAAA,YACP,gBAAgB;AAAA,UACjB;AAAA,QACP,CAAK;AACD,cAAM,OAAO,MAAM,SAAS;AAC5B,kBAAU,QAAQ,KAAK;AACvB,gBAAQ,IAAI,KAAK,IAAI;AAAA,MACtB,SAAQ,OAAO;AACd,gBAAQ,IAAI,KAAK;AAAA,MACrB,UAAY;AACR,gBAAQ,QAAQ;AAAA,MACjB;AAAA,IACH;;;;;;;;;;;;;;;;;;;"}