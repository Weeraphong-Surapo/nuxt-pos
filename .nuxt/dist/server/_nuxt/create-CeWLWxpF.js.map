{"version":3,"file":"create-CeWLWxpF.js","sources":["../../../../pages/category/create.vue"],"sourcesContent":["<template>\n  <div class=\"card shadow border-0 mb-7\">\n    <!-- <div class=\"card-header\">\n      <h5 class=\"mb-0\">Product Create</h5>\n    </div> -->\n    <Loader :loading=\"loading\" />\n    <div class=\"card-body\">\n      <form @submit.prevent=\"createCategory()\">\n        <div class=\"mb-3\">\n          <label for=\"exampleInputEmail1\" class=\"form-label\">หมวดหมู่</label>\n          <input\n            type=\"text\"\n            class=\"form-control form-control-sm\"\n            v-model=\"form.name\"\n            required\n          />\n        </div>\n        <button type=\"submit\" class=\"btn btn-primary btn-sm\" :disabled=\"loading\">\n          {{ loading ? \"กำลังบันทึก...\" : \"บันทึก\" }}\n        </button>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport type { categoryFormData } from \"~/types/categoryType\";\nconst form = ref<categoryFormData>({\n  name: \"\",\n});\n\nconst loading = ref(false);\n\nconst createCategory = async () => {\n  loading.value = true;\n  try {\n    const response = await fetch(\"/api/category\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(form.value),\n    });\n    const data = await response.json();\n    navigateTo({ name: \"category\" });\n  } catch (e) {\n    console.log(e);\n  } finally {\n    loading.value = false;\n  }\n};\n</script>\n\n<style scoped></style>\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AA2BA,UAAM,OAAO,IAAsB;AAAA,MACjC,MAAM;AAAA,IAAA,CACP;AAEK,UAAA,UAAU,IAAI,KAAK;;;;;;;;;;;;;;;"}