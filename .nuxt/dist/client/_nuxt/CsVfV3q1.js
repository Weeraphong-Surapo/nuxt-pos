import{_ as b}from"./B8mqVfVr.js";import{n as v,r as u,z as y,o as a,c as n,b as h,u as t,a as s,q as x,s as d,v as i,D as r}from"./DV78moFj.js";import{u as k}from"./3X9ttOQY.js";const V={class:"card shadow border-0 mb-7"},N={class:"card-body"},U={class:"row"},g={class:"col-md-6"},w={class:"mb-3"},D=s("label",{for:"",class:"form-label"},"ชื่อ",-1),S={class:"col-md-6"},T={class:"mb-3"},B=s("label",{for:"",class:"form-label"},"นามสกุล",-1),C={class:"mb-3"},M=s("label",{for:"",class:"form-label"},"อีเมล",-1),A={class:"row"},O={class:"col-md-6"},j={class:"mb-3"},q=s("label",{for:"",class:"form-label"},"ชื่อผู้ใช้งาน",-1),z={class:"col-md-6"},E={class:"mb-3"},J=s("label",{for:"",class:"form-label"},"สถานะ",-1),L=["value"],P={class:"mb-3"},F=s("label",{for:"",class:"form-label"},"เงินเดือน",-1),G={class:"mb-3"},H=s("label",{for:"",class:"form-label"},"สร้างเมื่อ",-1),I={class:"mb-3"},K=s("label",{for:"",class:"form-label"},"อัพเดตเมื่อ",-1),Q=s("button",{type:"submit",class:"btn btn-success btn-sm"},"บันทึก",-1),Z=v({__name:"profile",setup(R){const _=k(),m=u(!0),o=u(null),f=async()=>{var c;try{const e=await fetch("/api/user/"+((c=o.value)==null?void 0:c.id),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o.value)});console.log(e)}catch(e){console.log(e)}};return y(async()=>{setTimeout(()=>{m.value=!1},100),o.value=_.user}),(c,e)=>{const p=b;return a(),n("div",V,[h(p,{loading:t(m)},null,8,["loading"]),s("div",N,[s("form",{onSubmit:x(f,["prevent"])},[s("div",U,[s("div",g,[s("div",w,[D,t(o)?d((a(),n("input",{key:0,type:"text",class:"form-control form-control-sm","onUpdate:modelValue":e[0]||(e[0]=l=>t(o).firstName=l)},null,512)),[[i,t(o).firstName]]):r("",!0)])]),s("div",S,[s("div",T,[B,t(o)?d((a(),n("input",{key:0,type:"text",class:"form-control form-control-sm","onUpdate:modelValue":e[1]||(e[1]=l=>t(o).lastName=l)},null,512)),[[i,t(o).lastName]]):r("",!0)])])]),s("div",C,[M,t(o)?d((a(),n("input",{key:0,type:"email",class:"form-control form-control-sm","onUpdate:modelValue":e[2]||(e[2]=l=>t(o).email=l)},null,512)),[[i,t(o).email]]):r("",!0)]),s("div",A,[s("div",O,[s("div",j,[q,t(o)?d((a(),n("input",{key:0,type:"text",class:"form-control form-control-sm",disabled:"","onUpdate:modelValue":e[3]||(e[3]=l=>t(o).username=l)},null,512)),[[i,t(o).username]]):r("",!0)])]),s("div",z,[s("div",E,[J,t(o)?(a(),n("input",{key:0,type:"text",class:"form-control form-control-sm",disabled:"",value:t(o).isAdmin?"ผู้ดูแลร้าน":"พนักงาน"},null,8,L)):r("",!0)])])]),s("div",P,[F,t(o)?d((a(),n("input",{key:0,type:"text",class:"form-control form-control-sm",disabled:"","onUpdate:modelValue":e[4]||(e[4]=l=>t(o).salary=l)},null,512)),[[i,t(o).salary]]):r("",!0)]),s("div",G,[H,t(o)?d((a(),n("input",{key:0,type:"text",class:"form-control form-control-sm",disabled:"","onUpdate:modelValue":e[5]||(e[5]=l=>t(o).createdDate=l)},null,512)),[[i,t(o).createdDate]]):r("",!0)]),s("div",I,[K,t(o)?d((a(),n("input",{key:0,type:"text",class:"form-control form-control-sm",disabled:"","onUpdate:modelValue":e[6]||(e[6]=l=>t(o).updatedDate=l)},null,512)),[[i,t(o).updatedDate]]):r("",!0)]),Q],32)])])}}});export{Z as default};
