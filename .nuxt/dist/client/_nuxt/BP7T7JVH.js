import{_ as f}from"./B8mqVfVr.js";import{n as y,y as _,r as i,z as b,o as g,c as h,b as v,u as s,a,q as x,s as w,v as T,t as C,x as j,A as N}from"./DV78moFj.js";const A={class:"card shadow border-0 mb-7"},B={class:"card-body"},E={class:"mb-3"},I=a("label",{for:"exampleInputEmail1",class:"form-label"},"หมวดหมู่",-1),M=["disabled"],D=y({__name:"[id]",setup(S){const l=N(),d=t=>{l.$toast.success(t,{position:"bottom-right",timeout:2500})},r=_(),n=i({name:""}),e=i(!1),p=async()=>{e.value=!0;try{const o=await(await fetch("/api/category/"+r.params.id,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n.value)})).json();d("อัพเดตสำเร็จ"),j({name:"category"})}catch(t){console.log(t)}finally{e.value=!1}},m=async()=>{e.value=!0;try{const o=await(await fetch("/api/category/"+r.params.id,{method:"GET",headers:{"Content-Type":"application/json"}})).json();n.value=o.data}catch(t){console.log(t)}finally{e.value=!1}};return b(()=>{m()}),(t,o)=>{const u=f;return g(),h("div",A,[v(u,{loading:s(e)},null,8,["loading"]),a("div",B,[a("form",{onSubmit:o[1]||(o[1]=x(c=>p(),["prevent"]))},[a("div",E,[I,w(a("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":o[0]||(o[0]=c=>s(n).name=c)},null,512),[[T,s(n).name]])]),a("button",{type:"submit",class:"btn btn-primary btn-sm",disabled:s(e)},C(s(e)?"กำลังอัพเดต":"อัพเดต"),9,M)],32)])])}}});export{D as default};
