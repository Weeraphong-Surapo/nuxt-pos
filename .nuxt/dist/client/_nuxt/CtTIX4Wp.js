import{_ as g}from"./DAiWPfT3.js";import{n as v,r,z as b,o as i,c as d,b as h,u as a,d as x,t as m,a as e,q as w,s as C,v as T,F as V,D as j,x as E}from"./BQPsq2sp.js";const N={class:"card shadow border-0 mb-7"},S={class:"card-body"},k={class:"row"},B={class:"col-md-6"},D={class:"mb-3"},M=e("label",{for:"exampleInputEmail1",class:"form-label"},"ประเภท",-1),F={class:"col-md-6"},I={class:"mb-3"},L=e("label",{for:"exampleInputEmail1",class:"form-label"},"หมวดหมู่",-1),O=e("option",{value:"",disabled:"",selected:""},"เลือกหมวดหมู่",-1),q=["value"],z=["disabled"],U=v({__name:"create",setup(G){const n=r({name:"",category:""}),u=r(null),s=r(!1),p=async()=>{s.value=!0;try{const t=await(await fetch("/api/subcategory",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n.value)})).json();E({name:"category-subcategory"})}catch(o){console.log(o)}finally{s.value=!1}},_=async()=>{s.value=!0;try{const t=await(await fetch("/api/category",{method:"GET",headers:{"Content-Type":"application/json"}})).json();u.value=t.data}catch(o){console.log(o)}finally{s.value=!1}},y=async o=>{try{const c=o.target.value;n.value.category=c}catch(t){console.log(t)}};return b(()=>{_()}),(o,t)=>{const c=g;return i(),d("div",N,[h(c,{loading:a(s)},null,8,["loading"]),x(" "+m(a(n))+" ",1),e("div",S,[e("form",{onSubmit:t[1]||(t[1]=w(l=>p(),["prevent"]))},[e("div",k,[e("div",B,[e("div",D,[M,C(e("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":t[0]||(t[0]=l=>a(n).name=l)},null,512),[[T,a(n).name]])])]),e("div",F,[e("div",I,[L,e("select",{class:"form-select form-select-sm",onChange:y},[O,(i(!0),d(V,null,j(a(u),(l,f)=>(i(),d("option",{value:l.id,key:f},m(l.name),9,q))),128))],32)])])]),e("button",{type:"submit",class:"btn btn-primary btn-sm",disabled:a(s)},m(a(s)?"กำลังบันทึก...":"บันทึก"),9,z)],32)])])}}});export{U as default};
