import{_}from"./B8mqVfVr.js";import{n as b,r as d,y as v,z as h,o as y,c as x,b as g,u as t,d as N,t as w,a as s,q as E,s as n,v as r}from"./DV78moFj.js";const V={class:"card shadow border-0 mb-7"},I={class:"card-body"},U={class:"mb-3"},T=s("label",{for:"exampleInputEmail1",class:"form-label"},"ชื่อผู้ใช้",-1),j=s("div",{class:"mb-3"},[s("label",{for:"exampleInputEmail1",class:"form-label"},"รหัสผ่าน"),s("input",{type:"text",class:"form-control form-control-sm",value:"****************",disabled:""})],-1),C={class:"row"},S={class:"col-md-6"},A={class:"mb-3"},B=s("label",{for:"exampleInputEmail1",class:"form-label"},"ชื่อ",-1),M={class:"col-md-6"},k={class:"mb-3"},D=s("label",{for:"exampleInputEmail1",class:"form-label"},"นามสกุล",-1),O={class:"mb-3"},q=s("label",{for:"exampleInputEmail1",class:"form-label"},"อีเมล",-1),z={class:"mb-3"},G=s("label",{for:"exampleInputEmail1",class:"form-label"},"เงินเดือน",-1),J={class:"mb-3"},L=s("label",{for:"exampleInputEmail1",class:"form-label"},"สถานะ",-1),P=s("option",{value:"0",selected:""},"พนักงาน",-1),R=s("option",{value:"1"},"ผู้ดูแลร้าน",-1),$=[P,R],F=s("button",{class:"btn btn-sm btn-primary"},"บันทึก",-1),W=b({__name:"[id]",setup(H){const i=d(!1),c=v(),e=d({firstName:"",lastName:"",email:"",username:"",password:"",salary:"",isAdmin:!1}),p=l=>{const m=l.target.value;e.value.isAdmin=!!m},u=async()=>{i.value=!0;try{const o=await(await fetch("/api/user/"+c.params.id,{method:"GET",headers:{"Content-Type":"application/json"}})).json();e.value=o.data}catch(l){console.log(l)}finally{i.value=!1}},f=async()=>{try{const o=await(await fetch("/api/user/"+c.params.id,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e.value)})).json();console.log(o.data)}catch(l){console.log(l)}};return h(()=>{u()}),(l,o)=>{const m=_;return y(),x("div",V,[g(m,{loading:t(i)},null,8,["loading"]),N(" "+w(t(e))+" ",1),s("div",I,[s("form",{onSubmit:o[5]||(o[5]=E(a=>f(),["prevent"]))},[s("div",U,[T,n(s("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":o[0]||(o[0]=a=>t(e).username=a)},null,512),[[r,t(e).username]])]),j,s("div",C,[s("div",S,[s("div",A,[B,n(s("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":o[1]||(o[1]=a=>t(e).firstName=a)},null,512),[[r,t(e).firstName]])])]),s("div",M,[s("div",k,[D,n(s("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":o[2]||(o[2]=a=>t(e).lastName=a)},null,512),[[r,t(e).lastName]])])])]),s("div",O,[q,n(s("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":o[3]||(o[3]=a=>t(e).email=a)},null,512),[[r,t(e).email]])]),s("div",z,[G,n(s("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":o[4]||(o[4]=a=>t(e).salary=a)},null,512),[[r,t(e).salary]])]),s("div",J,[L,s("select",{class:"form-select form-select-sm",onChange:p},$,32)]),F],32)])])}}});export{W as default};
