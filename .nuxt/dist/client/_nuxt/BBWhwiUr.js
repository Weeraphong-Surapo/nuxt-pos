import{U as r,V as o,x as n}from"./DV78moFj.js";import{u as i}from"./3X9ttOQY.js";const p=r(async(c,u)=>{let e,t;try{const a=([e,t]=o(()=>fetch("/api/me",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"})),e=await e,t(),e);if(a.status==401)return[e,t]=o(()=>n("/auth/login")),e=await e,t(),e;const s=([e,t]=o(()=>a.json()),e=await e,t(),e);i().setUser(s.user)}catch(a){console.log(a)}});export{p as default};
